@model JMR.Models.PostViewModel
@{
  ViewData["Title"] = "Post";
}

<h2>Post Job Offer</h2>
@* <div class="text-danger" asp-validation-summary="All"></div> *@
<form asp-action="Create" method="post">
  <div class="form-row">
    <div class="form-group col-12">
      <label asp-for="Title">Position Title</label>
      <input required asp-for="Title" type="text" class="form-control" id="Title" maxlength="50">
    </div>
  </div>
    <div class="form-group">
      <label asp-for="Description">Position Description</label>
      <textarea required asp-for="Description" type="" class="form-control" id="description" rows="4"></textarea>
    </div>
  <div class="form-group">
    <h4>Skills Required</h4>
    <div class="form-group">
    @for (int i = 0; i < ViewBag.RequiredSkills.Count; i++)
    { 
      <div class="form-check-inline">
        <input asp-for="@Model.skillsIds[i]" name="skill" class="form-check-input" type="checkbox" id="@ViewBag.RequiredSkills[i].Id" value="@ViewBag.RequiredSkills[i].Id">
        <input asp-for="@Model.skillsIds[i]" type="hidden" value="false">
        <label asp-for="@Model.skillsIds[i]"  class="form-check-label" for="gridCheck">
            @ViewBag.RequiredSkills[i].skillName
        </label>
      </div>
    }
    <div style="color: red; display: none; margin-top: 10px;" id="errorMsg">You need to choose at least 1 skill!</div>
    </div>
  </div>
  <div class="form-row">
    <div class="form-group col-md-7">
      <label for="timeFrame">Time Frame</label>
      <input required asp-for="timeFrame" type="number" min="1" class="form-control" id="timeFrame">
    </div>
    <div class="form-group col-md-4">
      <label>Unit</label>
      <select asp-for="timeUnit" id="inputState" class="form-control">
        <option selected name="Days">Days</option>
        <option name="Weeks">Weeks</option>
        <option name="Years">Years</option>
      </select>
    </div>
  </div>
  <div class="form-row">
    <div class="form-group col-md-6">
      <label asp-for="minPay">Minimum Salary</label>
      <input required type="number" min="0" class="form-control" id="minPay" name="minPay">
    </div>
    <div class="form-group col-md-6">
      <label asp-for="maxPay">Maximum Salary</label>
      <input required type="number" min="0" class="form-control" id="maxPay" name="maxPay">
    </div>
  </div>
  <button type="reset" class="btn btn-primary">Discard Changes</button>
  <input required type="submit" class="btn btn-primary" id="post" value="Post">
</form>


<script>

  document.getElementById("post").addEventListener("click", function(event){
    if (!$('input[name=skill]:checked').length > 0) {
      event.preventDefault()
      document.querySelector("#errorMsg").style.display="block";
    }
  });

</script>